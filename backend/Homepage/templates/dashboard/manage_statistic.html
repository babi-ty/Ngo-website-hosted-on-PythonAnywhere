{% extends 'dashboard/base.html' %}

{% block title %}Manage Statistics{% endblock %}

{% block extra_css %}
<style>
    .dashboard-container { max-width: 1200px; margin: 40px auto; padding: 20px; }
    .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
    .page-header h1 { color: #007DCC; margin: 0; }
    .btn-primary { background: #007DCC; color: white; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: 600; }
    .btn-back { background: #6c757d; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none; margin-bottom: 20px; display: inline-block; }
    .table-container { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow-x: auto; }
    table { width: 100%; border-collapse: collapse; }
    th { background: #E3F2FD; padding: 15px; text-align: left; font-weight: 600; color: #007DCC; border-bottom: 2px solid #BBDEFB; }
    td { padding: 15px; border-bottom: 1px solid #eee; }
    tr:hover { background: #f8f9fa; }
    .status-badge { padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; }
    .status-active { background: #d4edda; color: #155724; }
    .status-inactive { background: #f8d7da; color: #721c24; }
    .action-buttons { display: flex; gap: 10px; }
    .btn-edit { background: #ffc107; color: #000; padding: 8px 15px; border-radius: 5px; text-decoration: none; font-size: 0.9rem; font-weight: 600; }
    .btn-delete { background: #dc3545; color: white; padding: 8px 15px; border-radius: 5px; text-decoration: none; font-size: 0.9rem; font-weight: 600; }
    .empty-state { text-align: center; padding: 60px 20px; color: #666; }
    .stat-value { font-size: 1.5rem; font-weight: 700; color: #007DCC; }
</style>
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <a href="{% url 'dashboard_home' %}" class="btn-back">‚Üê Back to Dashboard</a>
    
    <div class="page-header">
        <h1>Manage Statistics</h1>
        <a href="{% url 'dashboard_manage_statistic_add' %}" class="btn-primary">+ Add New Statistic</a>
    </div>

    <div class="table-container">
        {% if statistics %}
        <table>
            <thead>
                <tr>
                    <th>Value</th>
                    <th>Label</th>
                    <th>Order</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for stat in statistics %}
                <tr>
                    <td><span class="stat-value">{{ stat.value }}</span></td>
                    <td><strong>{{ stat.label }}</strong></td>
                    <td>{{ stat.order }}</td>
                    <td>
                        {% if stat.status %}
                        <span class="status-badge status-active">Active</span>
                        {% else %}
                        <span class="status-badge status-inactive">Inactive</span>
                        {% endif %}
                    </td>
                    <td>
                        <div class="action-buttons">
                            <a href="{% url 'dashboard_manage_statistic_edit' stat.pk %}" class="btn-edit">Edit</a>
                            <a href="{% url 'dashboard_manage_statistic_delete' stat.pk %}" class="btn-delete">Delete</a>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <div class="empty-state">
            <h3>No Statistics Yet</h3>
            <p>Click the "Add New Statistic" button to create your first statistic.</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}